"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+langgraph-checkpoint-sqlite@1.0.1_@langchain+core@1.1.28_openai@6.25.0_zod@4.3.6___x5mt5hbw5gguxm32j7hbetr5ym";
exports.ids = ["vendor-chunks/@langchain+langgraph-checkpoint-sqlite@1.0.1_@langchain+core@1.1.28_openai@6.25.0_zod@4.3.6___x5mt5hbw5gguxm32j7hbetr5ym"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@langchain+langgraph-checkpoint-sqlite@1.0.1_@langchain+core@1.1.28_openai@6.25.0_zod@4.3.6___x5mt5hbw5gguxm32j7hbetr5ym/node_modules/@langchain/langgraph-checkpoint-sqlite/dist/index.js":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph-checkpoint-sqlite@1.0.1_@langchain+core@1.1.28_openai@6.25.0_zod@4.3.6___x5mt5hbw5gguxm32j7hbetr5ym/node_modules/@langchain/langgraph-checkpoint-sqlite/dist/index.js ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SqliteSaver: () => (/* binding */ SqliteSaver)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"(rsc)/./node_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/index.js\");\n/* harmony import */ var _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/langgraph-checkpoint */ \"(rsc)/./node_modules/.pnpm/@langchain+langgraph-checkpoint@1.0.0_@langchain+core@1.1.28_openai@6.25.0_zod@4.3.6__/node_modules/@langchain/langgraph-checkpoint/dist/index.js\");\n\n\n\n//#region src/index.ts\nconst checkpointMetadataKeys = [\n\t\"source\",\n\t\"step\",\n\t\"parents\"\n];\nfunction validateKeys(keys) {\n\treturn keys;\n}\nconst validCheckpointMetadataKeys = validateKeys(checkpointMetadataKeys);\nfunction prepareSql(db, checkpointId) {\n\tconst sql = `\n  SELECT\n    thread_id,\n    checkpoint_ns,\n    checkpoint_id,\n    parent_checkpoint_id,\n    type,\n    checkpoint,\n    metadata,\n    (\n      SELECT\n        json_group_array(\n          json_object(\n            'task_id', pw.task_id,\n            'channel', pw.channel,\n            'type', pw.type,\n            'value', CAST(pw.value AS TEXT)\n          )\n        )\n      FROM writes as pw\n      WHERE pw.thread_id = checkpoints.thread_id\n        AND pw.checkpoint_ns = checkpoints.checkpoint_ns\n        AND pw.checkpoint_id = checkpoints.checkpoint_id\n    ) as pending_writes,\n    (\n      SELECT\n        json_group_array(\n          json_object(\n            'type', ps.type,\n            'value', CAST(ps.value AS TEXT)\n          )\n        )\n      FROM writes as ps\n      WHERE ps.thread_id = checkpoints.thread_id\n        AND ps.checkpoint_ns = checkpoints.checkpoint_ns\n        AND ps.checkpoint_id = checkpoints.parent_checkpoint_id\n        AND ps.channel = '${_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.TASKS}'\n      ORDER BY ps.idx\n    ) as pending_sends\n  FROM checkpoints\n  WHERE thread_id = ? AND checkpoint_ns = ? ${checkpointId ? \"AND checkpoint_id = ?\" : \"ORDER BY checkpoint_id DESC LIMIT 1\"}`;\n\treturn db.prepare(sql);\n}\nvar SqliteSaver = class SqliteSaver extends _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.BaseCheckpointSaver {\n\tdb;\n\tisSetup;\n\twithoutCheckpoint;\n\twithCheckpoint;\n\tconstructor(db, serde) {\n\t\tsuper(serde);\n\t\tthis.db = db;\n\t\tthis.isSetup = false;\n\t}\n\tstatic fromConnString(connStringOrLocalPath) {\n\t\treturn new SqliteSaver(new better_sqlite3__WEBPACK_IMPORTED_MODULE_0__(connStringOrLocalPath));\n\t}\n\tsetup() {\n\t\tif (this.isSetup) return;\n\t\tthis.db.pragma(\"journal_mode=WAL\");\n\t\tthis.db.exec(`\nCREATE TABLE IF NOT EXISTS checkpoints (\n  thread_id TEXT NOT NULL,\n  checkpoint_ns TEXT NOT NULL DEFAULT '',\n  checkpoint_id TEXT NOT NULL,\n  parent_checkpoint_id TEXT,\n  type TEXT,\n  checkpoint BLOB,\n  metadata BLOB,\n  PRIMARY KEY (thread_id, checkpoint_ns, checkpoint_id)\n);`);\n\t\tthis.db.exec(`\nCREATE TABLE IF NOT EXISTS writes (\n  thread_id TEXT NOT NULL,\n  checkpoint_ns TEXT NOT NULL DEFAULT '',\n  checkpoint_id TEXT NOT NULL,\n  task_id TEXT NOT NULL,\n  idx INTEGER NOT NULL,\n  channel TEXT NOT NULL,\n  type TEXT,\n  value BLOB,\n  PRIMARY KEY (thread_id, checkpoint_ns, checkpoint_id, task_id, idx)\n);`);\n\t\tthis.withoutCheckpoint = prepareSql(this.db, false);\n\t\tthis.withCheckpoint = prepareSql(this.db, true);\n\t\tthis.isSetup = true;\n\t}\n\tasync getTuple(config) {\n\t\tthis.setup();\n\t\tconst { thread_id, checkpoint_ns = \"\", checkpoint_id } = config.configurable ?? {};\n\t\tconst args = [thread_id, checkpoint_ns];\n\t\tif (checkpoint_id) args.push(checkpoint_id);\n\t\tconst row = (checkpoint_id ? this.withCheckpoint : this.withoutCheckpoint).get(...args);\n\t\tif (row === void 0) return void 0;\n\t\tlet finalConfig = config;\n\t\tif (!checkpoint_id) finalConfig = { configurable: {\n\t\t\tthread_id: row.thread_id,\n\t\t\tcheckpoint_ns,\n\t\t\tcheckpoint_id: row.checkpoint_id\n\t\t} };\n\t\tif (finalConfig.configurable?.thread_id === void 0 || finalConfig.configurable?.checkpoint_id === void 0) throw new Error(\"Missing thread_id or checkpoint_id\");\n\t\tconst pendingWrites = await Promise.all(JSON.parse(row.pending_writes).map(async (write) => {\n\t\t\treturn [\n\t\t\t\twrite.task_id,\n\t\t\t\twrite.channel,\n\t\t\t\tawait this.serde.loadsTyped(write.type ?? \"json\", write.value ?? \"\")\n\t\t\t];\n\t\t}));\n\t\tconst checkpoint = await this.serde.loadsTyped(row.type ?? \"json\", row.checkpoint);\n\t\tif (checkpoint.v < 4 && row.parent_checkpoint_id != null) await this.migratePendingSends(checkpoint, row.thread_id, row.parent_checkpoint_id);\n\t\treturn {\n\t\t\tcheckpoint,\n\t\t\tconfig: finalConfig,\n\t\t\tmetadata: await this.serde.loadsTyped(row.type ?? \"json\", row.metadata),\n\t\t\tparentConfig: row.parent_checkpoint_id ? { configurable: {\n\t\t\t\tthread_id: row.thread_id,\n\t\t\t\tcheckpoint_ns,\n\t\t\t\tcheckpoint_id: row.parent_checkpoint_id\n\t\t\t} } : void 0,\n\t\t\tpendingWrites\n\t\t};\n\t}\n\tasync *list(config, options) {\n\t\tconst { limit, before, filter } = options ?? {};\n\t\tthis.setup();\n\t\tconst thread_id = config.configurable?.thread_id;\n\t\tconst checkpoint_ns = config.configurable?.checkpoint_ns;\n\t\tlet sql = `\n      SELECT\n        thread_id,\n        checkpoint_ns,\n        checkpoint_id,\n        parent_checkpoint_id,\n        type,\n        checkpoint,\n        metadata,\n        (\n          SELECT\n            json_group_array(\n              json_object(\n                'task_id', pw.task_id,\n                'channel', pw.channel,\n                'type', pw.type,\n                'value', CAST(pw.value AS TEXT)\n              )\n            )\n          FROM writes as pw\n          WHERE pw.thread_id = checkpoints.thread_id\n            AND pw.checkpoint_ns = checkpoints.checkpoint_ns\n            AND pw.checkpoint_id = checkpoints.checkpoint_id\n        ) as pending_writes,\n        (\n          SELECT\n            json_group_array(\n              json_object(\n                'type', ps.type,\n                'value', CAST(ps.value AS TEXT)\n              )\n            )\n          FROM writes as ps\n          WHERE ps.thread_id = checkpoints.thread_id\n            AND ps.checkpoint_ns = checkpoints.checkpoint_ns\n            AND ps.checkpoint_id = checkpoints.parent_checkpoint_id\n            AND ps.channel = '${_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.TASKS}'\n          ORDER BY ps.idx\n        ) as pending_sends\n      FROM checkpoints\\n`;\n\t\tconst whereClause = [];\n\t\tif (thread_id) whereClause.push(\"thread_id = ?\");\n\t\tif (checkpoint_ns !== void 0 && checkpoint_ns !== null) whereClause.push(\"checkpoint_ns = ?\");\n\t\tif (before?.configurable?.checkpoint_id !== void 0) whereClause.push(\"checkpoint_id < ?\");\n\t\tconst sanitizedFilter = Object.fromEntries(Object.entries(filter ?? {}).filter(([key, value]) => value !== void 0 && validCheckpointMetadataKeys.includes(key)));\n\t\twhereClause.push(...Object.entries(sanitizedFilter).map(([key]) => `jsonb(CAST(metadata AS TEXT))->'$.${key}' = ?`));\n\t\tif (whereClause.length > 0) sql += `WHERE\\n  ${whereClause.join(\" AND\\n  \")}\\n`;\n\t\tsql += \"\\nORDER BY checkpoint_id DESC\";\n\t\tif (limit) sql += ` LIMIT ${parseInt(limit, 10)}`;\n\t\tconst args = [\n\t\t\tthread_id,\n\t\t\tcheckpoint_ns,\n\t\t\tbefore?.configurable?.checkpoint_id,\n\t\t\t...Object.values(sanitizedFilter).map((value) => JSON.stringify(value))\n\t\t].filter((value) => value !== void 0 && value !== null);\n\t\tconst rows = this.db.prepare(sql).all(...args);\n\t\tif (rows) for (const row of rows) {\n\t\t\tconst pendingWrites = await Promise.all(JSON.parse(row.pending_writes).map(async (write) => {\n\t\t\t\treturn [\n\t\t\t\t\twrite.task_id,\n\t\t\t\t\twrite.channel,\n\t\t\t\t\tawait this.serde.loadsTyped(write.type ?? \"json\", write.value ?? \"\")\n\t\t\t\t];\n\t\t\t}));\n\t\t\tconst checkpoint = await this.serde.loadsTyped(row.type ?? \"json\", row.checkpoint);\n\t\t\tif (checkpoint.v < 4 && row.parent_checkpoint_id != null) await this.migratePendingSends(checkpoint, row.thread_id, row.parent_checkpoint_id);\n\t\t\tyield {\n\t\t\t\tconfig: { configurable: {\n\t\t\t\t\tthread_id: row.thread_id,\n\t\t\t\t\tcheckpoint_ns: row.checkpoint_ns,\n\t\t\t\t\tcheckpoint_id: row.checkpoint_id\n\t\t\t\t} },\n\t\t\t\tcheckpoint,\n\t\t\t\tmetadata: await this.serde.loadsTyped(row.type ?? \"json\", row.metadata),\n\t\t\t\tparentConfig: row.parent_checkpoint_id ? { configurable: {\n\t\t\t\t\tthread_id: row.thread_id,\n\t\t\t\t\tcheckpoint_ns: row.checkpoint_ns,\n\t\t\t\t\tcheckpoint_id: row.parent_checkpoint_id\n\t\t\t\t} } : void 0,\n\t\t\t\tpendingWrites\n\t\t\t};\n\t\t}\n\t}\n\tasync put(config, checkpoint, metadata) {\n\t\tthis.setup();\n\t\tif (!config.configurable) throw new Error(\"Empty configuration supplied.\");\n\t\tconst thread_id = config.configurable?.thread_id;\n\t\tconst checkpoint_ns = config.configurable?.checkpoint_ns ?? \"\";\n\t\tconst parent_checkpoint_id = config.configurable?.checkpoint_id;\n\t\tif (!thread_id) throw new Error(`Missing \"thread_id\" field in passed \"config.configurable\".`);\n\t\tconst preparedCheckpoint = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.copyCheckpoint)(checkpoint);\n\t\tconst [[type1, serializedCheckpoint], [type2, serializedMetadata]] = await Promise.all([this.serde.dumpsTyped(preparedCheckpoint), this.serde.dumpsTyped(metadata)]);\n\t\tif (type1 !== type2) throw new Error(\"Failed to serialized checkpoint and metadata to the same type.\");\n\t\tconst row = [\n\t\t\tthread_id,\n\t\t\tcheckpoint_ns,\n\t\t\tcheckpoint.id,\n\t\t\tparent_checkpoint_id,\n\t\t\ttype1,\n\t\t\tserializedCheckpoint,\n\t\t\tserializedMetadata\n\t\t];\n\t\tthis.db.prepare(`INSERT OR REPLACE INTO checkpoints (thread_id, checkpoint_ns, checkpoint_id, parent_checkpoint_id, type, checkpoint, metadata) VALUES (?, ?, ?, ?, ?, ?, ?)`).run(...row);\n\t\treturn { configurable: {\n\t\t\tthread_id,\n\t\t\tcheckpoint_ns,\n\t\t\tcheckpoint_id: checkpoint.id\n\t\t} };\n\t}\n\tasync putWrites(config, writes, taskId) {\n\t\tthis.setup();\n\t\tif (!config.configurable) throw new Error(\"Empty configuration supplied.\");\n\t\tif (!config.configurable?.thread_id) throw new Error(\"Missing thread_id field in config.configurable.\");\n\t\tif (!config.configurable?.checkpoint_id) throw new Error(\"Missing checkpoint_id field in config.configurable.\");\n\t\tconst stmt = this.db.prepare(`\n      INSERT OR REPLACE INTO writes \n      (thread_id, checkpoint_ns, checkpoint_id, task_id, idx, channel, type, value) \n      VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n    `);\n\t\tthis.db.transaction((rows) => {\n\t\t\tfor (const row of rows) stmt.run(...row);\n\t\t})(await Promise.all(writes.map(async (write, idx) => {\n\t\t\tconst [type, serializedWrite] = await this.serde.dumpsTyped(write[1]);\n\t\t\treturn [\n\t\t\t\tconfig.configurable?.thread_id,\n\t\t\t\tconfig.configurable?.checkpoint_ns,\n\t\t\t\tconfig.configurable?.checkpoint_id,\n\t\t\t\ttaskId,\n\t\t\t\tidx,\n\t\t\t\twrite[0],\n\t\t\t\ttype,\n\t\t\t\tserializedWrite\n\t\t\t];\n\t\t})));\n\t}\n\tasync deleteThread(threadId) {\n\t\tthis.db.transaction(() => {\n\t\t\tthis.db.prepare(`DELETE FROM checkpoints WHERE thread_id = ?`).run(threadId);\n\t\t\tthis.db.prepare(`DELETE FROM writes WHERE thread_id = ?`).run(threadId);\n\t\t})();\n\t}\n\tasync migratePendingSends(checkpoint, threadId, parentCheckpointId) {\n\t\tconst { pending_sends } = this.db.prepare(`\n          SELECT\n            checkpoint_id,\n            json_group_array(\n              json_object(\n                'type', ps.type,\n                'value', CAST(ps.value AS TEXT)\n              )\n            ) as pending_sends\n          FROM writes as ps\n          WHERE ps.thread_id = ?\n            AND ps.checkpoint_id = ?\n            AND ps.channel = '${_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.TASKS}'\n          ORDER BY ps.idx\n        `).get(threadId, parentCheckpointId);\n\t\tconst mutableCheckpoint = checkpoint;\n\t\tmutableCheckpoint.channel_values ??= {};\n\t\tmutableCheckpoint.channel_values[_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.TASKS] = await Promise.all(JSON.parse(pending_sends).map(({ type, value }) => this.serde.loadsTyped(type, value)));\n\t\tmutableCheckpoint.channel_versions[_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.TASKS] = Object.keys(checkpoint.channel_versions).length > 0 ? (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.maxChannelVersion)(...Object.values(checkpoint.channel_versions)) : this.getNextVersion(void 0);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGgtY2hlY2twb2ludC1zcWxpdGVAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMS4yOF9vcGVuYWlANi4yNS4wX3pvZEA0LjMuNl9fX3g1bXQ1aGJ3NWdndXhtMzJqN2hiZXRyNXltL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC1jaGVja3BvaW50LXNxbGl0ZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3QztBQUN3RTs7QUFFaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrRUFBSyxDQUFDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywrRUFBK0U7QUFDN0g7QUFDQTtBQUNBLDRDQUE0QyxnRkFBbUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkNBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0NBQStDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3QkFBd0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtFQUFLLENBQUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEUsMEdBQTBHLElBQUk7QUFDOUcsaURBQWlELDZCQUE2QjtBQUM5RTtBQUNBLDhCQUE4QixvQkFBb0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtFQUFLLENBQUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0VBQUssdURBQXVELGFBQWE7QUFDNUcscUNBQXFDLGtFQUFLLDBEQUEwRCxrRkFBaUI7QUFDckg7QUFDQTs7QUFFQTtBQUN1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0b3J5dGVsbGluZy8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaC1jaGVja3BvaW50LXNxbGl0ZUAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4xLjI4X29wZW5haUA2LjI1LjBfem9kQDQuMy42X19feDVtdDVoYnc1Z2d1eG0zMmo3aGJldHI1eW0vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoLWNoZWNrcG9pbnQtc3FsaXRlL2Rpc3QvaW5kZXguanM/OThhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YWJhc2UkMSBmcm9tIFwiYmV0dGVyLXNxbGl0ZTNcIjtcbmltcG9ydCB7IEJhc2VDaGVja3BvaW50U2F2ZXIsIFRBU0tTLCBjb3B5Q2hlY2twb2ludCwgbWF4Q2hhbm5lbFZlcnNpb24gfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtY2hlY2twb2ludFwiO1xuXG4vLyNyZWdpb24gc3JjL2luZGV4LnRzXG5jb25zdCBjaGVja3BvaW50TWV0YWRhdGFLZXlzID0gW1xuXHRcInNvdXJjZVwiLFxuXHRcInN0ZXBcIixcblx0XCJwYXJlbnRzXCJcbl07XG5mdW5jdGlvbiB2YWxpZGF0ZUtleXMoa2V5cykge1xuXHRyZXR1cm4ga2V5cztcbn1cbmNvbnN0IHZhbGlkQ2hlY2twb2ludE1ldGFkYXRhS2V5cyA9IHZhbGlkYXRlS2V5cyhjaGVja3BvaW50TWV0YWRhdGFLZXlzKTtcbmZ1bmN0aW9uIHByZXBhcmVTcWwoZGIsIGNoZWNrcG9pbnRJZCkge1xuXHRjb25zdCBzcWwgPSBgXG4gIFNFTEVDVFxuICAgIHRocmVhZF9pZCxcbiAgICBjaGVja3BvaW50X25zLFxuICAgIGNoZWNrcG9pbnRfaWQsXG4gICAgcGFyZW50X2NoZWNrcG9pbnRfaWQsXG4gICAgdHlwZSxcbiAgICBjaGVja3BvaW50LFxuICAgIG1ldGFkYXRhLFxuICAgIChcbiAgICAgIFNFTEVDVFxuICAgICAgICBqc29uX2dyb3VwX2FycmF5KFxuICAgICAgICAgIGpzb25fb2JqZWN0KFxuICAgICAgICAgICAgJ3Rhc2tfaWQnLCBwdy50YXNrX2lkLFxuICAgICAgICAgICAgJ2NoYW5uZWwnLCBwdy5jaGFubmVsLFxuICAgICAgICAgICAgJ3R5cGUnLCBwdy50eXBlLFxuICAgICAgICAgICAgJ3ZhbHVlJywgQ0FTVChwdy52YWx1ZSBBUyBURVhUKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgRlJPTSB3cml0ZXMgYXMgcHdcbiAgICAgIFdIRVJFIHB3LnRocmVhZF9pZCA9IGNoZWNrcG9pbnRzLnRocmVhZF9pZFxuICAgICAgICBBTkQgcHcuY2hlY2twb2ludF9ucyA9IGNoZWNrcG9pbnRzLmNoZWNrcG9pbnRfbnNcbiAgICAgICAgQU5EIHB3LmNoZWNrcG9pbnRfaWQgPSBjaGVja3BvaW50cy5jaGVja3BvaW50X2lkXG4gICAgKSBhcyBwZW5kaW5nX3dyaXRlcyxcbiAgICAoXG4gICAgICBTRUxFQ1RcbiAgICAgICAganNvbl9ncm91cF9hcnJheShcbiAgICAgICAgICBqc29uX29iamVjdChcbiAgICAgICAgICAgICd0eXBlJywgcHMudHlwZSxcbiAgICAgICAgICAgICd2YWx1ZScsIENBU1QocHMudmFsdWUgQVMgVEVYVClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIEZST00gd3JpdGVzIGFzIHBzXG4gICAgICBXSEVSRSBwcy50aHJlYWRfaWQgPSBjaGVja3BvaW50cy50aHJlYWRfaWRcbiAgICAgICAgQU5EIHBzLmNoZWNrcG9pbnRfbnMgPSBjaGVja3BvaW50cy5jaGVja3BvaW50X25zXG4gICAgICAgIEFORCBwcy5jaGVja3BvaW50X2lkID0gY2hlY2twb2ludHMucGFyZW50X2NoZWNrcG9pbnRfaWRcbiAgICAgICAgQU5EIHBzLmNoYW5uZWwgPSAnJHtUQVNLU30nXG4gICAgICBPUkRFUiBCWSBwcy5pZHhcbiAgICApIGFzIHBlbmRpbmdfc2VuZHNcbiAgRlJPTSBjaGVja3BvaW50c1xuICBXSEVSRSB0aHJlYWRfaWQgPSA/IEFORCBjaGVja3BvaW50X25zID0gPyAke2NoZWNrcG9pbnRJZCA/IFwiQU5EIGNoZWNrcG9pbnRfaWQgPSA/XCIgOiBcIk9SREVSIEJZIGNoZWNrcG9pbnRfaWQgREVTQyBMSU1JVCAxXCJ9YDtcblx0cmV0dXJuIGRiLnByZXBhcmUoc3FsKTtcbn1cbnZhciBTcWxpdGVTYXZlciA9IGNsYXNzIFNxbGl0ZVNhdmVyIGV4dGVuZHMgQmFzZUNoZWNrcG9pbnRTYXZlciB7XG5cdGRiO1xuXHRpc1NldHVwO1xuXHR3aXRob3V0Q2hlY2twb2ludDtcblx0d2l0aENoZWNrcG9pbnQ7XG5cdGNvbnN0cnVjdG9yKGRiLCBzZXJkZSkge1xuXHRcdHN1cGVyKHNlcmRlKTtcblx0XHR0aGlzLmRiID0gZGI7XG5cdFx0dGhpcy5pc1NldHVwID0gZmFsc2U7XG5cdH1cblx0c3RhdGljIGZyb21Db25uU3RyaW5nKGNvbm5TdHJpbmdPckxvY2FsUGF0aCkge1xuXHRcdHJldHVybiBuZXcgU3FsaXRlU2F2ZXIobmV3IERhdGFiYXNlJDEoY29ublN0cmluZ09yTG9jYWxQYXRoKSk7XG5cdH1cblx0c2V0dXAoKSB7XG5cdFx0aWYgKHRoaXMuaXNTZXR1cCkgcmV0dXJuO1xuXHRcdHRoaXMuZGIucHJhZ21hKFwiam91cm5hbF9tb2RlPVdBTFwiKTtcblx0XHR0aGlzLmRiLmV4ZWMoYFxuQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgY2hlY2twb2ludHMgKFxuICB0aHJlYWRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgY2hlY2twb2ludF9ucyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJycsXG4gIGNoZWNrcG9pbnRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgcGFyZW50X2NoZWNrcG9pbnRfaWQgVEVYVCxcbiAgdHlwZSBURVhULFxuICBjaGVja3BvaW50IEJMT0IsXG4gIG1ldGFkYXRhIEJMT0IsXG4gIFBSSU1BUlkgS0VZICh0aHJlYWRfaWQsIGNoZWNrcG9pbnRfbnMsIGNoZWNrcG9pbnRfaWQpXG4pO2ApO1xuXHRcdHRoaXMuZGIuZXhlYyhgXG5DUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB3cml0ZXMgKFxuICB0aHJlYWRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgY2hlY2twb2ludF9ucyBURVhUIE5PVCBOVUxMIERFRkFVTFQgJycsXG4gIGNoZWNrcG9pbnRfaWQgVEVYVCBOT1QgTlVMTCxcbiAgdGFza19pZCBURVhUIE5PVCBOVUxMLFxuICBpZHggSU5URUdFUiBOT1QgTlVMTCxcbiAgY2hhbm5lbCBURVhUIE5PVCBOVUxMLFxuICB0eXBlIFRFWFQsXG4gIHZhbHVlIEJMT0IsXG4gIFBSSU1BUlkgS0VZICh0aHJlYWRfaWQsIGNoZWNrcG9pbnRfbnMsIGNoZWNrcG9pbnRfaWQsIHRhc2tfaWQsIGlkeClcbik7YCk7XG5cdFx0dGhpcy53aXRob3V0Q2hlY2twb2ludCA9IHByZXBhcmVTcWwodGhpcy5kYiwgZmFsc2UpO1xuXHRcdHRoaXMud2l0aENoZWNrcG9pbnQgPSBwcmVwYXJlU3FsKHRoaXMuZGIsIHRydWUpO1xuXHRcdHRoaXMuaXNTZXR1cCA9IHRydWU7XG5cdH1cblx0YXN5bmMgZ2V0VHVwbGUoY29uZmlnKSB7XG5cdFx0dGhpcy5zZXR1cCgpO1xuXHRcdGNvbnN0IHsgdGhyZWFkX2lkLCBjaGVja3BvaW50X25zID0gXCJcIiwgY2hlY2twb2ludF9pZCB9ID0gY29uZmlnLmNvbmZpZ3VyYWJsZSA/PyB7fTtcblx0XHRjb25zdCBhcmdzID0gW3RocmVhZF9pZCwgY2hlY2twb2ludF9uc107XG5cdFx0aWYgKGNoZWNrcG9pbnRfaWQpIGFyZ3MucHVzaChjaGVja3BvaW50X2lkKTtcblx0XHRjb25zdCByb3cgPSAoY2hlY2twb2ludF9pZCA/IHRoaXMud2l0aENoZWNrcG9pbnQgOiB0aGlzLndpdGhvdXRDaGVja3BvaW50KS5nZXQoLi4uYXJncyk7XG5cdFx0aWYgKHJvdyA9PT0gdm9pZCAwKSByZXR1cm4gdm9pZCAwO1xuXHRcdGxldCBmaW5hbENvbmZpZyA9IGNvbmZpZztcblx0XHRpZiAoIWNoZWNrcG9pbnRfaWQpIGZpbmFsQ29uZmlnID0geyBjb25maWd1cmFibGU6IHtcblx0XHRcdHRocmVhZF9pZDogcm93LnRocmVhZF9pZCxcblx0XHRcdGNoZWNrcG9pbnRfbnMsXG5cdFx0XHRjaGVja3BvaW50X2lkOiByb3cuY2hlY2twb2ludF9pZFxuXHRcdH0gfTtcblx0XHRpZiAoZmluYWxDb25maWcuY29uZmlndXJhYmxlPy50aHJlYWRfaWQgPT09IHZvaWQgMCB8fCBmaW5hbENvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfaWQgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB0aHJlYWRfaWQgb3IgY2hlY2twb2ludF9pZFwiKTtcblx0XHRjb25zdCBwZW5kaW5nV3JpdGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoSlNPTi5wYXJzZShyb3cucGVuZGluZ193cml0ZXMpLm1hcChhc3luYyAod3JpdGUpID0+IHtcblx0XHRcdHJldHVybiBbXG5cdFx0XHRcdHdyaXRlLnRhc2tfaWQsXG5cdFx0XHRcdHdyaXRlLmNoYW5uZWwsXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2VyZGUubG9hZHNUeXBlZCh3cml0ZS50eXBlID8/IFwianNvblwiLCB3cml0ZS52YWx1ZSA/PyBcIlwiKVxuXHRcdFx0XTtcblx0XHR9KSk7XG5cdFx0Y29uc3QgY2hlY2twb2ludCA9IGF3YWl0IHRoaXMuc2VyZGUubG9hZHNUeXBlZChyb3cudHlwZSA/PyBcImpzb25cIiwgcm93LmNoZWNrcG9pbnQpO1xuXHRcdGlmIChjaGVja3BvaW50LnYgPCA0ICYmIHJvdy5wYXJlbnRfY2hlY2twb2ludF9pZCAhPSBudWxsKSBhd2FpdCB0aGlzLm1pZ3JhdGVQZW5kaW5nU2VuZHMoY2hlY2twb2ludCwgcm93LnRocmVhZF9pZCwgcm93LnBhcmVudF9jaGVja3BvaW50X2lkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2hlY2twb2ludCxcblx0XHRcdGNvbmZpZzogZmluYWxDb25maWcsXG5cdFx0XHRtZXRhZGF0YTogYXdhaXQgdGhpcy5zZXJkZS5sb2Fkc1R5cGVkKHJvdy50eXBlID8/IFwianNvblwiLCByb3cubWV0YWRhdGEpLFxuXHRcdFx0cGFyZW50Q29uZmlnOiByb3cucGFyZW50X2NoZWNrcG9pbnRfaWQgPyB7IGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0XHR0aHJlYWRfaWQ6IHJvdy50aHJlYWRfaWQsXG5cdFx0XHRcdGNoZWNrcG9pbnRfbnMsXG5cdFx0XHRcdGNoZWNrcG9pbnRfaWQ6IHJvdy5wYXJlbnRfY2hlY2twb2ludF9pZFxuXHRcdFx0fSB9IDogdm9pZCAwLFxuXHRcdFx0cGVuZGluZ1dyaXRlc1xuXHRcdH07XG5cdH1cblx0YXN5bmMgKmxpc3QoY29uZmlnLCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgeyBsaW1pdCwgYmVmb3JlLCBmaWx0ZXIgfSA9IG9wdGlvbnMgPz8ge307XG5cdFx0dGhpcy5zZXR1cCgpO1xuXHRcdGNvbnN0IHRocmVhZF9pZCA9IGNvbmZpZy5jb25maWd1cmFibGU/LnRocmVhZF9pZDtcblx0XHRjb25zdCBjaGVja3BvaW50X25zID0gY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucztcblx0XHRsZXQgc3FsID0gYFxuICAgICAgU0VMRUNUXG4gICAgICAgIHRocmVhZF9pZCxcbiAgICAgICAgY2hlY2twb2ludF9ucyxcbiAgICAgICAgY2hlY2twb2ludF9pZCxcbiAgICAgICAgcGFyZW50X2NoZWNrcG9pbnRfaWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNoZWNrcG9pbnQsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAoXG4gICAgICAgICAgU0VMRUNUXG4gICAgICAgICAgICBqc29uX2dyb3VwX2FycmF5KFxuICAgICAgICAgICAgICBqc29uX29iamVjdChcbiAgICAgICAgICAgICAgICAndGFza19pZCcsIHB3LnRhc2tfaWQsXG4gICAgICAgICAgICAgICAgJ2NoYW5uZWwnLCBwdy5jaGFubmVsLFxuICAgICAgICAgICAgICAgICd0eXBlJywgcHcudHlwZSxcbiAgICAgICAgICAgICAgICAndmFsdWUnLCBDQVNUKHB3LnZhbHVlIEFTIFRFWFQpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICBGUk9NIHdyaXRlcyBhcyBwd1xuICAgICAgICAgIFdIRVJFIHB3LnRocmVhZF9pZCA9IGNoZWNrcG9pbnRzLnRocmVhZF9pZFxuICAgICAgICAgICAgQU5EIHB3LmNoZWNrcG9pbnRfbnMgPSBjaGVja3BvaW50cy5jaGVja3BvaW50X25zXG4gICAgICAgICAgICBBTkQgcHcuY2hlY2twb2ludF9pZCA9IGNoZWNrcG9pbnRzLmNoZWNrcG9pbnRfaWRcbiAgICAgICAgKSBhcyBwZW5kaW5nX3dyaXRlcyxcbiAgICAgICAgKFxuICAgICAgICAgIFNFTEVDVFxuICAgICAgICAgICAganNvbl9ncm91cF9hcnJheShcbiAgICAgICAgICAgICAganNvbl9vYmplY3QoXG4gICAgICAgICAgICAgICAgJ3R5cGUnLCBwcy50eXBlLFxuICAgICAgICAgICAgICAgICd2YWx1ZScsIENBU1QocHMudmFsdWUgQVMgVEVYVClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIEZST00gd3JpdGVzIGFzIHBzXG4gICAgICAgICAgV0hFUkUgcHMudGhyZWFkX2lkID0gY2hlY2twb2ludHMudGhyZWFkX2lkXG4gICAgICAgICAgICBBTkQgcHMuY2hlY2twb2ludF9ucyA9IGNoZWNrcG9pbnRzLmNoZWNrcG9pbnRfbnNcbiAgICAgICAgICAgIEFORCBwcy5jaGVja3BvaW50X2lkID0gY2hlY2twb2ludHMucGFyZW50X2NoZWNrcG9pbnRfaWRcbiAgICAgICAgICAgIEFORCBwcy5jaGFubmVsID0gJyR7VEFTS1N9J1xuICAgICAgICAgIE9SREVSIEJZIHBzLmlkeFxuICAgICAgICApIGFzIHBlbmRpbmdfc2VuZHNcbiAgICAgIEZST00gY2hlY2twb2ludHNcXG5gO1xuXHRcdGNvbnN0IHdoZXJlQ2xhdXNlID0gW107XG5cdFx0aWYgKHRocmVhZF9pZCkgd2hlcmVDbGF1c2UucHVzaChcInRocmVhZF9pZCA9ID9cIik7XG5cdFx0aWYgKGNoZWNrcG9pbnRfbnMgIT09IHZvaWQgMCAmJiBjaGVja3BvaW50X25zICE9PSBudWxsKSB3aGVyZUNsYXVzZS5wdXNoKFwiY2hlY2twb2ludF9ucyA9ID9cIik7XG5cdFx0aWYgKGJlZm9yZT8uY29uZmlndXJhYmxlPy5jaGVja3BvaW50X2lkICE9PSB2b2lkIDApIHdoZXJlQ2xhdXNlLnB1c2goXCJjaGVja3BvaW50X2lkIDwgP1wiKTtcblx0XHRjb25zdCBzYW5pdGl6ZWRGaWx0ZXIgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoZmlsdGVyID8/IHt9KS5maWx0ZXIoKFtrZXksIHZhbHVlXSkgPT4gdmFsdWUgIT09IHZvaWQgMCAmJiB2YWxpZENoZWNrcG9pbnRNZXRhZGF0YUtleXMuaW5jbHVkZXMoa2V5KSkpO1xuXHRcdHdoZXJlQ2xhdXNlLnB1c2goLi4uT2JqZWN0LmVudHJpZXMoc2FuaXRpemVkRmlsdGVyKS5tYXAoKFtrZXldKSA9PiBganNvbmIoQ0FTVChtZXRhZGF0YSBBUyBURVhUKSktPickLiR7a2V5fScgPSA/YCkpO1xuXHRcdGlmICh3aGVyZUNsYXVzZS5sZW5ndGggPiAwKSBzcWwgKz0gYFdIRVJFXFxuICAke3doZXJlQ2xhdXNlLmpvaW4oXCIgQU5EXFxuICBcIil9XFxuYDtcblx0XHRzcWwgKz0gXCJcXG5PUkRFUiBCWSBjaGVja3BvaW50X2lkIERFU0NcIjtcblx0XHRpZiAobGltaXQpIHNxbCArPSBgIExJTUlUICR7cGFyc2VJbnQobGltaXQsIDEwKX1gO1xuXHRcdGNvbnN0IGFyZ3MgPSBbXG5cdFx0XHR0aHJlYWRfaWQsXG5cdFx0XHRjaGVja3BvaW50X25zLFxuXHRcdFx0YmVmb3JlPy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfaWQsXG5cdFx0XHQuLi5PYmplY3QudmFsdWVzKHNhbml0aXplZEZpbHRlcikubWFwKCh2YWx1ZSkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKVxuXHRcdF0uZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IHZvaWQgMCAmJiB2YWx1ZSAhPT0gbnVsbCk7XG5cdFx0Y29uc3Qgcm93cyA9IHRoaXMuZGIucHJlcGFyZShzcWwpLmFsbCguLi5hcmdzKTtcblx0XHRpZiAocm93cykgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuXHRcdFx0Y29uc3QgcGVuZGluZ1dyaXRlcyA9IGF3YWl0IFByb21pc2UuYWxsKEpTT04ucGFyc2Uocm93LnBlbmRpbmdfd3JpdGVzKS5tYXAoYXN5bmMgKHdyaXRlKSA9PiB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0d3JpdGUudGFza19pZCxcblx0XHRcdFx0XHR3cml0ZS5jaGFubmVsLFxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuc2VyZGUubG9hZHNUeXBlZCh3cml0ZS50eXBlID8/IFwianNvblwiLCB3cml0ZS52YWx1ZSA/PyBcIlwiKVxuXHRcdFx0XHRdO1xuXHRcdFx0fSkpO1xuXHRcdFx0Y29uc3QgY2hlY2twb2ludCA9IGF3YWl0IHRoaXMuc2VyZGUubG9hZHNUeXBlZChyb3cudHlwZSA/PyBcImpzb25cIiwgcm93LmNoZWNrcG9pbnQpO1xuXHRcdFx0aWYgKGNoZWNrcG9pbnQudiA8IDQgJiYgcm93LnBhcmVudF9jaGVja3BvaW50X2lkICE9IG51bGwpIGF3YWl0IHRoaXMubWlncmF0ZVBlbmRpbmdTZW5kcyhjaGVja3BvaW50LCByb3cudGhyZWFkX2lkLCByb3cucGFyZW50X2NoZWNrcG9pbnRfaWQpO1xuXHRcdFx0eWllbGQge1xuXHRcdFx0XHRjb25maWc6IHsgY29uZmlndXJhYmxlOiB7XG5cdFx0XHRcdFx0dGhyZWFkX2lkOiByb3cudGhyZWFkX2lkLFxuXHRcdFx0XHRcdGNoZWNrcG9pbnRfbnM6IHJvdy5jaGVja3BvaW50X25zLFxuXHRcdFx0XHRcdGNoZWNrcG9pbnRfaWQ6IHJvdy5jaGVja3BvaW50X2lkXG5cdFx0XHRcdH0gfSxcblx0XHRcdFx0Y2hlY2twb2ludCxcblx0XHRcdFx0bWV0YWRhdGE6IGF3YWl0IHRoaXMuc2VyZGUubG9hZHNUeXBlZChyb3cudHlwZSA/PyBcImpzb25cIiwgcm93Lm1ldGFkYXRhKSxcblx0XHRcdFx0cGFyZW50Q29uZmlnOiByb3cucGFyZW50X2NoZWNrcG9pbnRfaWQgPyB7IGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0XHRcdHRocmVhZF9pZDogcm93LnRocmVhZF9pZCxcblx0XHRcdFx0XHRjaGVja3BvaW50X25zOiByb3cuY2hlY2twb2ludF9ucyxcblx0XHRcdFx0XHRjaGVja3BvaW50X2lkOiByb3cucGFyZW50X2NoZWNrcG9pbnRfaWRcblx0XHRcdFx0fSB9IDogdm9pZCAwLFxuXHRcdFx0XHRwZW5kaW5nV3JpdGVzXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRhc3luYyBwdXQoY29uZmlnLCBjaGVja3BvaW50LCBtZXRhZGF0YSkge1xuXHRcdHRoaXMuc2V0dXAoKTtcblx0XHRpZiAoIWNvbmZpZy5jb25maWd1cmFibGUpIHRocm93IG5ldyBFcnJvcihcIkVtcHR5IGNvbmZpZ3VyYXRpb24gc3VwcGxpZWQuXCIpO1xuXHRcdGNvbnN0IHRocmVhZF9pZCA9IGNvbmZpZy5jb25maWd1cmFibGU/LnRocmVhZF9pZDtcblx0XHRjb25zdCBjaGVja3BvaW50X25zID0gY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucyA/PyBcIlwiO1xuXHRcdGNvbnN0IHBhcmVudF9jaGVja3BvaW50X2lkID0gY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9pZDtcblx0XHRpZiAoIXRocmVhZF9pZCkgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIFwidGhyZWFkX2lkXCIgZmllbGQgaW4gcGFzc2VkIFwiY29uZmlnLmNvbmZpZ3VyYWJsZVwiLmApO1xuXHRcdGNvbnN0IHByZXBhcmVkQ2hlY2twb2ludCA9IGNvcHlDaGVja3BvaW50KGNoZWNrcG9pbnQpO1xuXHRcdGNvbnN0IFtbdHlwZTEsIHNlcmlhbGl6ZWRDaGVja3BvaW50XSwgW3R5cGUyLCBzZXJpYWxpemVkTWV0YWRhdGFdXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlcmRlLmR1bXBzVHlwZWQocHJlcGFyZWRDaGVja3BvaW50KSwgdGhpcy5zZXJkZS5kdW1wc1R5cGVkKG1ldGFkYXRhKV0pO1xuXHRcdGlmICh0eXBlMSAhPT0gdHlwZTIpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBzZXJpYWxpemVkIGNoZWNrcG9pbnQgYW5kIG1ldGFkYXRhIHRvIHRoZSBzYW1lIHR5cGUuXCIpO1xuXHRcdGNvbnN0IHJvdyA9IFtcblx0XHRcdHRocmVhZF9pZCxcblx0XHRcdGNoZWNrcG9pbnRfbnMsXG5cdFx0XHRjaGVja3BvaW50LmlkLFxuXHRcdFx0cGFyZW50X2NoZWNrcG9pbnRfaWQsXG5cdFx0XHR0eXBlMSxcblx0XHRcdHNlcmlhbGl6ZWRDaGVja3BvaW50LFxuXHRcdFx0c2VyaWFsaXplZE1ldGFkYXRhXG5cdFx0XTtcblx0XHR0aGlzLmRiLnByZXBhcmUoYElOU0VSVCBPUiBSRVBMQUNFIElOVE8gY2hlY2twb2ludHMgKHRocmVhZF9pZCwgY2hlY2twb2ludF9ucywgY2hlY2twb2ludF9pZCwgcGFyZW50X2NoZWNrcG9pbnRfaWQsIHR5cGUsIGNoZWNrcG9pbnQsIG1ldGFkYXRhKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pYCkucnVuKC4uLnJvdyk7XG5cdFx0cmV0dXJuIHsgY29uZmlndXJhYmxlOiB7XG5cdFx0XHR0aHJlYWRfaWQsXG5cdFx0XHRjaGVja3BvaW50X25zLFxuXHRcdFx0Y2hlY2twb2ludF9pZDogY2hlY2twb2ludC5pZFxuXHRcdH0gfTtcblx0fVxuXHRhc3luYyBwdXRXcml0ZXMoY29uZmlnLCB3cml0ZXMsIHRhc2tJZCkge1xuXHRcdHRoaXMuc2V0dXAoKTtcblx0XHRpZiAoIWNvbmZpZy5jb25maWd1cmFibGUpIHRocm93IG5ldyBFcnJvcihcIkVtcHR5IGNvbmZpZ3VyYXRpb24gc3VwcGxpZWQuXCIpO1xuXHRcdGlmICghY29uZmlnLmNvbmZpZ3VyYWJsZT8udGhyZWFkX2lkKSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRocmVhZF9pZCBmaWVsZCBpbiBjb25maWcuY29uZmlndXJhYmxlLlwiKTtcblx0XHRpZiAoIWNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfaWQpIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY2hlY2twb2ludF9pZCBmaWVsZCBpbiBjb25maWcuY29uZmlndXJhYmxlLlwiKTtcblx0XHRjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBcbiAgICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gd3JpdGVzIFxuICAgICAgKHRocmVhZF9pZCwgY2hlY2twb2ludF9ucywgY2hlY2twb2ludF9pZCwgdGFza19pZCwgaWR4LCBjaGFubmVsLCB0eXBlLCB2YWx1ZSkgXG4gICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pXG4gICAgYCk7XG5cdFx0dGhpcy5kYi50cmFuc2FjdGlvbigocm93cykgPT4ge1xuXHRcdFx0Zm9yIChjb25zdCByb3cgb2Ygcm93cykgc3RtdC5ydW4oLi4ucm93KTtcblx0XHR9KShhd2FpdCBQcm9taXNlLmFsbCh3cml0ZXMubWFwKGFzeW5jICh3cml0ZSwgaWR4KSA9PiB7XG5cdFx0XHRjb25zdCBbdHlwZSwgc2VyaWFsaXplZFdyaXRlXSA9IGF3YWl0IHRoaXMuc2VyZGUuZHVtcHNUeXBlZCh3cml0ZVsxXSk7XG5cdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRjb25maWcuY29uZmlndXJhYmxlPy50aHJlYWRfaWQsXG5cdFx0XHRcdGNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfbnMsXG5cdFx0XHRcdGNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfaWQsXG5cdFx0XHRcdHRhc2tJZCxcblx0XHRcdFx0aWR4LFxuXHRcdFx0XHR3cml0ZVswXSxcblx0XHRcdFx0dHlwZSxcblx0XHRcdFx0c2VyaWFsaXplZFdyaXRlXG5cdFx0XHRdO1xuXHRcdH0pKSk7XG5cdH1cblx0YXN5bmMgZGVsZXRlVGhyZWFkKHRocmVhZElkKSB7XG5cdFx0dGhpcy5kYi50cmFuc2FjdGlvbigoKSA9PiB7XG5cdFx0XHR0aGlzLmRiLnByZXBhcmUoYERFTEVURSBGUk9NIGNoZWNrcG9pbnRzIFdIRVJFIHRocmVhZF9pZCA9ID9gKS5ydW4odGhyZWFkSWQpO1xuXHRcdFx0dGhpcy5kYi5wcmVwYXJlKGBERUxFVEUgRlJPTSB3cml0ZXMgV0hFUkUgdGhyZWFkX2lkID0gP2ApLnJ1bih0aHJlYWRJZCk7XG5cdFx0fSkoKTtcblx0fVxuXHRhc3luYyBtaWdyYXRlUGVuZGluZ1NlbmRzKGNoZWNrcG9pbnQsIHRocmVhZElkLCBwYXJlbnRDaGVja3BvaW50SWQpIHtcblx0XHRjb25zdCB7IHBlbmRpbmdfc2VuZHMgfSA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICAgICAgU0VMRUNUXG4gICAgICAgICAgICBjaGVja3BvaW50X2lkLFxuICAgICAgICAgICAganNvbl9ncm91cF9hcnJheShcbiAgICAgICAgICAgICAganNvbl9vYmplY3QoXG4gICAgICAgICAgICAgICAgJ3R5cGUnLCBwcy50eXBlLFxuICAgICAgICAgICAgICAgICd2YWx1ZScsIENBU1QocHMudmFsdWUgQVMgVEVYVClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSBhcyBwZW5kaW5nX3NlbmRzXG4gICAgICAgICAgRlJPTSB3cml0ZXMgYXMgcHNcbiAgICAgICAgICBXSEVSRSBwcy50aHJlYWRfaWQgPSA/XG4gICAgICAgICAgICBBTkQgcHMuY2hlY2twb2ludF9pZCA9ID9cbiAgICAgICAgICAgIEFORCBwcy5jaGFubmVsID0gJyR7VEFTS1N9J1xuICAgICAgICAgIE9SREVSIEJZIHBzLmlkeFxuICAgICAgICBgKS5nZXQodGhyZWFkSWQsIHBhcmVudENoZWNrcG9pbnRJZCk7XG5cdFx0Y29uc3QgbXV0YWJsZUNoZWNrcG9pbnQgPSBjaGVja3BvaW50O1xuXHRcdG11dGFibGVDaGVja3BvaW50LmNoYW5uZWxfdmFsdWVzID8/PSB7fTtcblx0XHRtdXRhYmxlQ2hlY2twb2ludC5jaGFubmVsX3ZhbHVlc1tUQVNLU10gPSBhd2FpdCBQcm9taXNlLmFsbChKU09OLnBhcnNlKHBlbmRpbmdfc2VuZHMpLm1hcCgoeyB0eXBlLCB2YWx1ZSB9KSA9PiB0aGlzLnNlcmRlLmxvYWRzVHlwZWQodHlwZSwgdmFsdWUpKSk7XG5cdFx0bXV0YWJsZUNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9uc1tUQVNLU10gPSBPYmplY3Qua2V5cyhjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnMpLmxlbmd0aCA+IDAgPyBtYXhDaGFubmVsVmVyc2lvbiguLi5PYmplY3QudmFsdWVzKGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykpIDogdGhpcy5nZXROZXh0VmVyc2lvbih2b2lkIDApO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFNxbGl0ZVNhdmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@langchain+langgraph-checkpoint-sqlite@1.0.1_@langchain+core@1.1.28_openai@6.25.0_zod@4.3.6___x5mt5hbw5gguxm32j7hbetr5ym/node_modules/@langchain/langgraph-checkpoint-sqlite/dist/index.js\n");

/***/ })

};
;